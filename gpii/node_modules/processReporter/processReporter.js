/**
 * GPII Process Reporter Bridge (Linux -- GLiBTop).
 *
 * Copyright 2015 OCAD University
 *
 * Licensed under the New BSD license. You may not use this file except in
 * compliance with this License.
 *
 * You may obtain a copy of the License at
 * https://github.com/gpii/universal/LICENSE.txt
 */

(function () {
    "use strict";

    var fluid = require("universal");
    var gpii = fluid.registerNamespace("gpii");
    require("./processesBridge.js");
    
    var processes = gpii.processes();

    fluid.registerNamespace("gpii.processReporter");
    fluid.defaults("gpii.processReporter.find", {
        gradeNames: "fluid.function",
        argumentMap: {
            command: 0
        }
    });
    
    gpii.processReporter.find = function (commandName) {
        var procInfos = processes.findSolutionsByCommands([commandName]);
        if (procInfos.length === 0) {
            procInfos.push(processes.initProcInfoNotRunning(commandName));
        }
        return procInfos;
    };

})();
