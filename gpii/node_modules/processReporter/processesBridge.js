/*!
GPII Process Reporter processes bridge -- gpii.processes.

Copyright 2014 Inclusive Design Research Centre, OCAD University

Licensed under the New BSD license. You may not use this file except in
compliance with this License.

You may obtain a copy of the License at
https://github.com/gpii/universal/LICENSE.txt
*/

/*global require */

(function () {
    "use strict";

    var fluid = require("universal");
    var gpii = fluid.registerNamespace("gpii");
    var nodeProcesses =
      require("./nodeprocesses/build/Release/nodeprocesses.node");

    gpii.processes = fluid.registerNamespace("gpii.processes");

    fluid.defaults("gpii.processes.native", {
        gradeNames: ["fluid.littleComponent", "autoInit"],
        invokers: {
            getProcessList: {
                funcName: "gpii.processes.native.getProcessList",
                args: []
            }
        }
    });

    // Return a list of processes -- a snapshot of the current processes.
    gpii.processes["native"].getProcessList = function () {
        return nodeProcesses.getProcesses();
    };
    
}());
